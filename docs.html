<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>apiary</title>
</head>
<body>
  <script src="https://api.apiary.io/seeds/embed.js"></script>
  <script>
    var embed = new Apiary.Embed({
      apiBlueprint: "FORMAT: 1A\nHOST: http://private-3c4e5-homeshop.apiary-mock.com\n\n# HomeShop\n\nHomeShop is an application to automatize your groceries needs, and to help you spend less time shopping.\n\n## Login [/login]\n\nHandles the login.\n\n### Handles login [POST]\n\nHandles the login of a previous user. Should be sent over SSL.\n\n+ Request (application/json)\n\n        {\n            \"username\": \"yuri-m-dias\",\n            \"password\": \"senha123\"\n        }\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"auth-token\": \"tk_GmVtYvffWZM7D721iO4mFiXI1ywlDWsTyFQU\"\n            }\n\n+ Response 422 (application/json)\n\n    + Body\n\n            {\n                \"error\": \"Failed to authenticate. Wrong username or password.\"\n            }\n\n+ Response 500 (application/json)\n\n    + Body\n\n            {\n                \"error\": \"Internal server error.\"\n            }\n\n# Group markets information\n\n## Supermarkets Collection [/markets]\n\n### List All Markets [GET]\nTODO: order by next, and latest used\n\nReturns a list of supermarkets, with links to their images.\n\n+ Response 200 (application/json)\n\n        [\n            {\n                \"id\": 1,\n                \"name\": \"Extra\",\n                \"image\": \"../imgs/markets/extra.png\",\n                \"products\": \"/markets/1/products\"\n            },\n            {\n                \"id\": 2,\n                \"name\": \"Carrefour\",\n                \"image\": \"../imgs/markets/carrefour.png\",\n                \"products\": \"/markets/2/products\"\n            },\n            {\n                \"id\": 3,\n                \"name\": \"Bretas\",\n                \"image\": \"../imgs/markets/bretas.png\",\n                \"products\": \"/markets/3/products\"\n            },\n            {\n                \"id\": 4,\n                \"name\": \"Pão de açucar\",\n                \"image\": \"../imgs/markets/pao_de_acucar.png\",\n                \"products\": \"/markets/4/products\"\n            },\n            {\n                \"id\": 5,\n                \"name\": \"Barão\",\n                \"image\": \"../imgs/markets/barao.png\",\n                \"products\": \"/markets/5/products\"\n            }\n        ]\n\n## Single Market [/markets/{market_id}]\n\nReferences each market, with more information about them, including links to the products and other functionalities.\n\n+ Parameters\n    + market_id (number) - ID of the Market in the form of an integer\n\n### Market Detail [GET]\n\nReturns more information about one supermarket, with links to more actions.\n\n+ Response 200 (application/json)\n\n        {\n            \"id\": 1,\n            \"name\": \"Extra\",\n            \"header\": \"base64:/imgs/markets/extra-header.png\",\n            \"products\": \"/markets/1/products\",\n            \"location\": {\n                \"lat\": \"37.7898\",\n                \"lon\": \"-122.3942\"\n            }\n        }\n\n# Group Products information\n\nAll the operations related to the products go here.\n\n## Products Collection [/markets/{market_id}/products{?start,limit}]\n\nReferences one collection of products from a single supermarket.\n\n+ Parameters\n    + market_id (number) - ID of the Market in the form of an integer\n    + start (number) - number of the starting element, if paging\n    + limit (number) - limits the requet to this many elements\n\n### Get all products for this supermarket, with filtering and pagination [GET]\nTODO: filtering and sorting\n\n+ Response 200 (application/json)\n\n        {\n            \"market\": \"Extra\",\n            \"meta\": {\n                \"page\": 1,\n                \"start\": 0,\n                \"limit\": 20\n            },\n            \"products\": [\n                {\n                    \"id\": 1,\n                    \"name\": \"Sucrilhos\",\n                    \"description\": \"Yummy!\",\n                    \"price\": \"R$53,00\",\n                    \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n                },\n                {\n                    \"id\": 2,\n                    \"name\": \"Sucrilhos2\",\n                    \"description\": \"Yummy2!\",\n                    \"price\": \"R$54,00\",\n                    \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n                },\n                {\n                    \"id\": 3,\n                    \"name\": \"Sucrilhos3\",\n                    \"description\": \"Yummy!3\",\n                    \"price\": \"R$33,00\",\n                    \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n                }\n            ]\n        }\n\n## Product detail [/markets/{market_id}/products/{product_id}]\n\nReferences one product from a market.\n\n+ Parameters\n    + market_id (number) - ID of the Market in the form of an integer\n    + product_id (number) - ID of the Product in the form of an integer\n\n### Detail one product [GET]\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"name\": \"Sucrilhos\",\n                \"description\": \"They are yummy.\",\n                \"price\": \"R$45,00\",\n                \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n            }\n\n### Alter one product [POST]\n\n+ Response 200 (application/json)\n\n### Delete one product [DELETE]\n\n+ Response 200 (application/json)\n\n# Group User Operations\n\n## User detail [/users/{user_id}]\n\nRetrieves user information.\n\n+ Parameters\n    + user_id (number) - ID of the User in the form of an integer\n\n### Information of an User [GET]\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"name\": \"Leopoldo Magalhães\",\n                \"email\": \"leopoldo@gmail.com\",\n                \"cpf\":\"111.222.333-44\",\n                \"endereco\": \"Rua Leopoldo Magalhães Qd 44 Lt 67\",\n                \"cartao\": \"************1234\"\n            }\n\n### Alter user information [POST]\n\n+ Request (application/json)\n\n        {\n            \"name\": \"Leopoldo Magalhães\",\n            \"email\": \"leopoldo@gmail.com\",\n            \"cpf\":\"111.222.333-44\",\n            \"endereco\": \"Rua Leopoldo Magalhães Qd 44 Lt 67\",\n            \"cartao\": \"3879.2736.3512.1234\"\n        }\n\n+ Response 200 (aplicaion/json)\n\n## User Register [/user]\n\nRegister an User\n\n###Register an User [PUT]\n+ Request (application/json)\n\n        {\n            \"name\": \"Leopoldo Magalhães\",\n            \"email\": \"leopoldo@gmail.com\",\n            \"cpf\":\"111.222.333-44\",\n            \"endereco\": \"Rua Leopoldo Magalhães Qd 44 Lt 67\",\n            \"cartao\": \"24526231234\"\n        }\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"status\": \"Success\"\n            }\n\n+ Response 500 (application/json)\n\n    + Body\n\n            {\n                \"status\": \"Error while trying to register an user\"\n            }\n            \n+ Response 409 (application/json)\n\n    + Body\n\n            {\n                \"status\": \"Conflict: Email already registered\"\n            }\n\n## Credit Card Operations [/users/{user_id}/creditcard]\n\nOperations of on user\'s credit cards.\n\n+ Parameters\n    + user_id (number) - ID of the User in the form of an integer\n\n### Register a credit card [PUT]\n\n+ Request (application/json)\n\n        {\n            \"name\": \"LEOPOLDO MAGALHAES\",\n            \"number\": \"1111222233334444\",\n            \"cvs\":\"123\",\n            \"date\": \"11/2020\",\n            \"brand\": \"visa\"\n        }\n\n+ Response 200 (application/json)\n\n\n### Alter card information [POST]\n\n+ Request (application/json)\n\n        {\n            \"name\": \"LEOPOLDO MAGALHAES\",\n            \"number\": \"1111222233334444\",\n            \"cvs\":\"231\",\n            \"date\": \"11/2020\",\n            \"brand\": \"mastercard\"\n        }\n\n+ Response 200 (application/json)\n\n### Delete credit card [DELETE]\n\n+ Request (application/json)\n\n        {\n            \"card_number\": \"1111222233334444\"\n        }\n\n+ Response 200 (aplicaion/json)\n\n\n# Group Cart and history\n\n## Collection Cart current [/users/{user_id}/cart]\n\nThe cart for the user specified.\n\n+ Parameters\n    + user_id (number) - ID of the User in the form of an integer\n\n### Detail the cart collection [GET]\n\n+ Request (application/json)\n\n        {\n            \"id\": 1\n        }\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"products\": [\n                    {\n                        \"id\": 1,\n                        \"name\": \"Sucrilhos\",\n                        \"description\": \"Yummy!\",\n                        \"price\": \"R$53,00\",\n                        \"quantity\": 3\n                        \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n                    },\n                    {\n                        \"id\": 2,\n                        \"name\": \"Omo\",\n                        \"description\": \"Sabão em pó ação total\",\n                        \"price\": \"R$8,00\",\n                        \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n                    },\n                    {\n                        \"id\": 3,\n                        \"name\": \"Arroz Cristal\",\n                        \"description\": \"Pureza em forma de grãos\",\n                        \"price\": \"R$13,00\",\n                        \"image\": \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD//gAMQXBwbGVN=\"\n                    }\n                ]\n            }\n\n+ Request (application/json)\n\n        {\n            \"id\": 2\n        }\n\n+ Response 404 (application/json)\n\n    + Body\n\n            {\n                \"error\": \"Empty cart\"\n            }\n### Alters a product from cart [POST]\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"status\": \"Success\"\n            }\n\n### Adds a product to cart [PUT]\n\n+ Response 200 (application/json)\n\n    + Body\n\n            {\n                \"status\": \"Success\"\n            }\n\n### Delete one product from cart [DELETE]\n\n+ Response 200 (application/json)\n\n## Collection Cart history [/users/{user_id}/buyHistory{?market_id}]\n\nReferences the collection of all previous carts, for a specific user, and a market.\n\n+ Parameters\n    + user_id (number) - ID of the User in the form of an integer\n\n### Get the collection [GET]\n\n+ Parameters\n\n    + market_id (number, optional) - ID of the Market in the form of an integer\n\n+ Response 200 (application/json)\n\n        {\n            \"meta\": {\n                \"page\": 1,\n                \"start\": 0,\n                \"limit\": 20\n            },\n	    \"history\": [\n		    {\n			\"id\": 1,\n			\"market\": \"Extra\",\n			\"total\": \"R$54,00\",\n			\"date\": 1466209329\n		    },\n		    {\n			\"id\": 2,\n			\"market\": \"Marcos\",\n			\"total\": \"R$87,92\",\n			\"date\": 1466209330\n		    },\n		    {\n			\"id\": 3,\n			\"market\": \"Extra\",\n			\"total\": \"R$11,23\",\n			\"date\": 1466209331\n		    }\n		]\n        }\n\n+ Response 200 (application/json)\n\n        {\n            \"meta\": {\n                \"page\": 1,\n                \"start\": 0,\n                \"limit\": 20\n            },\n	    \"market\": \"Extra\",\n	    \"history\": [\n		    {\n			\"id\": 1,\n			\"total\": \"R$54,00\",\n			\"date\": 1466209329\n		    },\n		    {\n			\"id\": 2,\n			\"total\": \"R$87,92\",\n			\"date\": 1466209330\n		    },\n		    {\n			\"id\": 3,\n			\"total\": \"R$11,23\",\n			\"date\": 1466209331\n		    }\n		]\n        }\n\n"
    });
  </script>
</body>
</html>
